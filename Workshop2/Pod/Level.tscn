[gd_scene load_steps=18 format=2]

[ext_resource path="res://PlayerBullet.tscn" type="PackedScene" id=1]
[ext_resource path="res://JG/Art/Enemy.png" type="Texture" id=2]
[ext_resource path="res://JG/Movement/General/WASDMove.gd" type="Script" id=3]
[ext_resource path="res://Wall.tscn" type="PackedScene" id=4]
[ext_resource path="res://PlayerSplitShooter.gd" type="Script" id=5]
[ext_resource path="res://DestructableWall.tscn" type="PackedScene" id=6]
[ext_resource path="res://JG/Interactable System/Core/Interactable.gd" type="Script" id=7]
[ext_resource path="res://JG/Interactable System/Core/InteractableCollection.gd" type="Script" id=8]
[ext_resource path="res://JG/Health System/Health.gd" type="Script" id=9]
[ext_resource path="res://JG/Interactable System/Reaction System/R_Print.gd" type="Script" id=10]
[ext_resource path="res://JG/Interactable System/Core/InstCondsSource.gd" type="Script" id=11]
[ext_resource path="res://JG/Interactable System/Reaction System/R_MoveNode.gd" type="Script" id=12]
[ext_resource path="res://JG/Interactable System/Reaction System/R_SetCollisionsState.gd" type="Script" id=13]
[ext_resource path="res://JG/Interactable System/Reaction System/R_SetVisiblity.gd" type="Script" id=14]
[ext_resource path="res://JG/Components/SimpleTrigger.gd" type="Script" id=15]

[sub_resource type="CircleShape2D" id=1]
radius = 7.15891

[sub_resource type="CircleShape2D" id=2]
radius = 21.2194

[node name="Level" type="Node2D"]

[node name="Player" type="KinematicBody2D" parent="." groups=[
"Player",
]]
position = Vector2( 7.1433, 37.3039 )

[node name="BodyDisplacer" type="Node2D" parent="Player"]
rotation = 1.5708

[node name="Sprite" type="Sprite" parent="Player/BodyDisplacer"]
texture = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource( 1 )

[node name="WASDMove" type="Node2D" parent="Player"]
script = ExtResource( 3 )
move_mode = 2

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true
zoom = Vector2( 0.4, 0.4 )

[node name="Shooter" type="Node2D" parent="Player"]
script = ExtResource( 5 )
bullet = ExtResource( 1 )
min_angle = -40
max_angle = 40
shots_count = 6

[node name="ShootPoint" type="Node2D" parent="Player/Shooter"]
position = Vector2( 10, 0 )
rotation = 1.5708

[node name="Health" type="Node2D" parent="Player"]
script = ExtResource( 9 )

[node name="Environment" type="Node2D" parent="."]

[node name="Wall" parent="Environment" instance=ExtResource( 4 )]
position = Vector2( -30, -60 )

[node name="Wall2" parent="Environment" instance=ExtResource( 4 )]
position = Vector2( -10, -60 )

[node name="Wall3" parent="Environment" instance=ExtResource( 4 )]
position = Vector2( 10, -60 )

[node name="Wall4" parent="Environment" instance=ExtResource( 4 )]
position = Vector2( 30, -60 )

[node name="PlayerBullet" parent="." instance=ExtResource( 1 )]

[node name="Destructible Enviro" type="Node2D" parent="."]

[node name="Destructible Wall2" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 67.3759, 31.2312 )

[node name="Destructible Wall3" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 95.9814, -23.3311 )

[node name="Destructible Wall4" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 129.884, 51.361 )

[node name="Destructible Wall5" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 81.6786, 110.161 )

[node name="Destructible Wall6" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 160.609, -7.43918 )

[node name="Destructible Wall7" parent="Destructible Enviro" instance=ExtResource( 6 )]
position = Vector2( 177.03, 104.864 )

[node name="Interactables" type="Node2D" parent="."]

[node name="Crossing Area" type="Area2D" parent="Interactables"]
position = Vector2( -0.353561, -43.4871 )

[node name="Crossing" type="Node2D" parent="Interactables/Crossing Area"]
script = ExtResource( 7 )

[node name="InteractableCollection" type="Node2D" parent="Interactables/Crossing Area/Crossing"]
script = ExtResource( 8 )
use_global_source = false
inst_src_conds_path = NodePath("../InstanceCondsSource")

[node name="R_Print" type="Node2D" parent="Interactables/Crossing Area/Crossing/InteractableCollection"]
script = ExtResource( 10 )
message = "I Have Been Called"

[node name="R_SetVisibility" type="Node2D" parent="Interactables/Crossing Area/Crossing/InteractableCollection"]
script = ExtResource( 14 )
state = false
node = NodePath("../../../../../Environment")

[node name="R_SetCollisions_State" type="Node2D" parent="Interactables/Crossing Area/Crossing/InteractableCollection"]
script = ExtResource( 13 )
node_path = NodePath("../../../../../Environment")

[node name="R_MoveNode" type="Node2D" parent="Interactables/Crossing Area/Crossing/InteractableCollection"]
script = ExtResource( 12 )
node = NodePath("../../../../../Player")
target_point = NodePath("../../../Position2D")

[node name="InstanceCondsSource" type="Node2D" parent="Interactables/Crossing Area/Crossing"]
script = ExtResource( 11 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Crossing Area"]
shape = SubResource( 2 )

[node name="Position2D" type="Position2D" parent="Interactables/Crossing Area"]
position = Vector2( 93.9977, -5.36907 )

[node name="SimpleTrigger" type="Node2D" parent="Interactables/Crossing Area"]
script = ExtResource( 15 )
[connection signal="on_enter" from="Interactables/Crossing Area/SimpleTrigger" to="Interactables/Crossing Area/Crossing" method="interact_n"]
